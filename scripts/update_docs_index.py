#!/usr/bin/env python3
"""
Update Documentation Index
===========================

Updates the documentation index with latest reports and results.
"""

import os
import glob
from datetime import datetime

def update_docs_index():
    """Update the docs index with latest reports."""
    
    # Create docs directories if they don't exist
    os.makedirs('docs/results', exist_ok=True)
    os.makedirs('docs/weekly-reports', exist_ok=True)
    
    # Find latest reports
    weekly_reports = glob.glob('docs/results/weekly_report_*.html')
    if weekly_reports:
        latest_weekly = max(weekly_reports, key=os.path.getctime)
        print(f"Latest weekly report: {latest_weekly}")
    
    # Create or update index
    index_content = f"""# DataSON Benchmarks - Documentation Index

Last updated: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}

## Latest Reports

### Weekly Reports
- [Latest Weekly Report](weekly-reports/latest.html)

### Quick Reports  
- [Quick Benchmark Results](results/)

## Navigation
- [Back to Main Repository](../)
- [View All Results](results/)

---
*Generated by update_docs_index.py*
"""
    
    with open('docs/index.md', 'w') as f:
        f.write(index_content)
    
    print("âœ… Documentation index updated")

if __name__ == '__main__':
    update_docs_index() 